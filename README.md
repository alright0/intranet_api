# intranet_api

Это приложение является внутренним сайтом,на котором находится два основных раздела: Сайт с дэшбордами и API, позволяющее другим приложениям иметь доступ к базе. К сожалению, я не могу предоставить полную информацию. Проект не соберется из-за отсутсвия файлов конфигураций и подключений к базам данных, но можно посмотреть на слепок, развернутый на heroku с измененными данными: https://laright0-git-app.herokuapp.com/

**Сайт**

На данный момент сайт содержит в себе несколько разделов:

**1. index:**
Здесь находится информация о состоянии линий на текущий момент: стоит линия или работает, кто находится на линии, какой выпуск, процент брака(там где есть камеры), номер заказа и его описание. Возможность собирать информацию по проценту брака появилась благодаря <a href="https://github.com/alright0/ibea_to_pg">скрипту</a>, который асинхронно опрашивает камеры и пишет значения в базу. Осталньные показатели берутся из соседней основной базы.
На данном этапе автообновление организовано с помощью обновления всего html, но в дальнейшем я планирую перевести его на ajax-запросы.
<p align="center"><img width=700px src="https://user-images.githubusercontent.com/71926912/113477223-0f1e3380-9489-11eb-88cc-772822862dd9.jpg"></p>

**2. month_report:**
Здесь находится информация о состоянии производства за месяц. Графики выпуска, эффективные и неэффективные смен, динамика работы линий и т.п. 
<p align="center"><img width=700px src="https://user-images.githubusercontent.com/71926912/113477458-74beef80-948a-11eb-9e24-25986d6e0323.jpg"></p>

Поскольку основная <a href="https://github.com/alright0/intranet_api/blob/master/Statistics/logic/dataframes.py">логика</a> написана в ООП стиле, это позволяет получать и обрабатывать данные довольно гибко за желаемый период времени(необходимо указать параметры при создании экземпляра класса up_puco_table. подробности в docstring к классу по <a href="https://github.com/alright0/intranet_api/blob/master/Statistics/logic/dataframes.py">ссылке</a>). Все таблицы и графики являются экземплярами класса, поэтому их можно просто вызвать и получить готовый набор данных, который необходимо будет встроить в html. При создании этой страницы очень помог опыт, полученный при создании <a href="https://github.com/alright0/Dashboard">приложений на dash</a>.

**3. detailed daily report:**
Здесь находится информация о выпуске указанных линий за указанный срок
<p align="center"><img width=700px src="https://user-images.githubusercontent.com/71926912/118360225-55d67180-b58f-11eb-9dac-44f9eca7e581.PNG"></p>

**4. Табло для персонала:**
Здесь находится график(тот же самый, что и в production plan), который обновляется с заданным интервалом. Транслируется на табло для показа персоналу
<p align="center"><img width=700px src="https://user-images.githubusercontent.com/71926912/118360498-95ea2400-b590-11eb-81cf-6a755f6f54bb.PNG"></p>

<!-- <p align="center"><img width=700px src=""></p> -->
